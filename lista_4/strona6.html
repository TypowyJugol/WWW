<!DOCTYPE html>
<html lang="pl">

<head>
    <title>strona6</title>
    <meta charset="utf-8">
    <style>
        * {
            font-family: Arial, Sans
        }

        h1,
        b {
            font-weight: normal;
        }

        div.wykres>div {
            width: 50px;
            margin: 15px;
            box-shadow: 10px 10px 5px grey;
            border: 1px solid grey;
            display: inline-block;
            margin-top: 50px;
            vertical-align: bottom;
        }

        div.wykres>div b {
            top: -20px;
            display: box;
            position: relative;
            text-shadow: 5px 5px 5px grey;
        }

        div.wykres div div {
            color: white;
            position: relative;
            top: -19px;
            text-shadow: 0px 0px 5px black;
        }
    </style>
</head>

<body>
    <div id="lista"></div>
    <button onclick="wszyscy()">Wszyscy</button>
    <button onclick="pokaz('fizyka');liczba('fizyka');">Fizyka</button>
    <button onclick="pokaz('informatyka');liczba('informatyka');">Informatyka</button>
    <button onclick="pokaz('prawo');liczba('prawo');">Prawo</button>
    <button onclick="pokaz('matematyka');liczba('matematyka');">Matematyka</button>
    <button onclick="liczkierunki()">Dane</button>
    <button onclick="wykres(dane)">Wykres</button>
    <button onclick="dodaj()">Dodaj studenta</button>
    <input type="text" id="imie"  value="Podaj imie">
    <input type="text" id="nazwisko"  value="Podaj nazwisko">
    <input type="text" id="kierunek" value="Podaj kierunek">
    <p></p>
</body>
<script>
    var div = document.getElementById("lista");
    var s = " ";
    var ilosc = 0;
    var p = document.getElementsByTagName("p");
    var dane = {};
    var przedmioty = [];
    var kolory = ["red", "green", "blue", "yellow"];

    var student = [
        { imie: "Ola", nazwisko: "Lis", kierunek: "fizyka" },
        { imie: "Ala", nazwisko: "Góral", kierunek: "prawo" },
        { imie: "Janusz", nazwisko: "Nowak", kierunek: "informatyka" },
        { imie: "Magda", nazwisko: "Kwiatkowska", kierunek: "prawo" },
        { imie: "Karol", nazwisko: "Wadera", kierunek: "informatyka" },
        { imie: "Piotr", nazwisko: "Kowalski", kierunek: "prawo" },
        { imie: "Filip", nazwisko: "Malinowski", kierunek: "matematyka" },
        { imie: "Julia", nazwisko: "Nowacka", kierunek: "fizyka" },
        { imie: "Bartek", nazwisko: "Kamiński", kierunek: "matematyka" },
        { imie: "Magdalena", nazwisko: "Nowakowska", kierunek: "prawo" },
        { imie: "Krystian", nazwisko: "Przybylski", kierunek: "prawo" },
        { imie: "Szymon", nazwisko: "Kaczmarek", kierunek: "informatyka" },
        { imie: "Maria", nazwisko: "Szymańska", kierunek: "matematyka" },
        { imie: "Marta", nazwisko: "Kozieł", kierunek: "prawo" },
        { imie: "Patrycja", nazwisko: "Śliwińska", kierunek: "matematyka" },];

    function wszyscy() {
        s += "<h2>Studenci</h2>";
        s += "<ol>";
        for (i = 0; i < student.length; i++) {
            s += "<li>";
            s += student[i].imie + " " + student[i].nazwisko + " " + student[i].kierunek;
            s += "</li>";
        }
        s += "</ol>";

        div.innerHTML = s;
        s = "";
    }

    function pokaz(x) {
        s += "<h2>" + x + "</h2>";
        s += "<ol>";
        for (i = 0; i < student.length; i++) {
            if (student[i].kierunek == x) {
                s += "<li>";
                s += student[i].imie + " " + student[i].nazwisko;
                s += "</li>";
            }
        }
        s += "</ol>"
        div.innerHTML = s;
        s = ""
    }

    function liczba(asd) {
        for (i = 0; i < student.length; i++) {
            if (student[i].kierunek == asd) {
                ilosc++;
            }
        }
        div.innerHTML += "Ilosc osób na kierunku " + asd + " to " + ilosc;
        ilosc = 0;
    }

    function liczkierunki() {
        student.forEach(function (i) {
            przedmioty.push(i["kierunek"]);
        });

        przedmioty.forEach(function (i) {
            if (i in dane) {
                dane[i] += 1;
            }
            else {
                dane[i] = 1;
            }
        });
        s += "<h2>Ilość studentów na kierunkach</h2>";
        s += "<ol>";
        for (i in dane) {
            s += "<li>";
            s += i + ":" + dane[i];
            s += "</li>";
        }
        s += "</ol>";
        div.innerHTML = s;
        s = "";
        console.log(dane);
    }

    function wykres(dane) {
        var s = "<h1>Ilość studentów na poszczególnych kierunkach</h1>";
        s += "<div class='wykres'>";

        for (i in dane) {
            s += "<div style=height:" + dane[i] + 15 + "px;background:red>";
            s += "<b>" + i + "</b>";
            s += "<div>" + dane[i] + "</div>";
            s += "</div>";
        }

        s += "</div>";
        div.innerHTML = s;
    }
    function dodaj() {
        var im = document.getElementById("imie").value;
        var naz = document.getElementById("nazwisko").value;
        var kier = document.getElementById("kierunek").value;
        student.push({imie: im, nazwisko: naz, kierunek: kier});
    }
</script>

</html>